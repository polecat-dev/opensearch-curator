---
# Force merge old indices to reduce segment count
# Merges segments to optimize read performance and disk usage
actions:
  1:
    action: forcemerge
    description: "Force merge old indices to 1 segment"
    options:
      max_num_segments: 1
      delay: 30
      timeout_override: 3600
      ignore_empty_list: True
      disable_action: True  # Safe dry-run mode
      continue_if_exception: False
    filters:
    - filtertype: pattern
      kind: prefix
      value: test-
      exclude: False
    - filtertype: age
      source: name
      direction: older
      timestring: '%Y.%m.%d'
      unit: days
      unit_count: 14
      exclude: False
    - filtertype: forcemerged
      max_num_segments: 1
      exclude: True  # Skip already merged indices
